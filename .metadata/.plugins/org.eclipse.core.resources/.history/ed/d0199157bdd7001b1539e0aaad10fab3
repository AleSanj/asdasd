/*
 * conexion.h
 *
 *  Created on: 6 may. 2021
 *      Author: utnso
 */

#ifndef SRC_CONEXION_H_
#define SRC_CONEXION_H_

int crear_server(char*,char*);
int esperar_cliente(int,int);
void ejemplo();
int crear_conexion(char*, char*);
void liberar_conexion(int);


// funciones para el cliente
	t_paquete* crear_paquete(OP_CODE codigo,MQ_CODE emisor);
	void crear_buffer(t_paquete* paquete);									// abstracto = solo lo usamos dentro de una funcion

	void* serializar_paquete(t_paquete* paquete, int bytes);				//abstracto
	void agregar_a_paquete_msg(t_paquete* paquete, char* valor, int tamanio);
	void agregar_a_paquete_iniciarP(t_paquete* paquete,t_iniciar_patota* estructura);


	int enviar_paquete(t_paquete* paquete, int socket_cliente,t_log* logger);
	void eliminar_paquete(t_paquete* paquete);



//funciones para el servidor
	t_paquete* recibir_paquete(int socket_cliente, int* respuesta);
	t_mensaje* deserializar_msg(t_paquete*);
	t_iniciar_patota* deserializar_iniciarP(t_paquete* paquete);




#endif /* SRC_CONEXION_H_ */
